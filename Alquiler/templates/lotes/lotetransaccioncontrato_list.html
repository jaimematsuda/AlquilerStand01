{% extends "base.html" %}

{% block page_title %}
	{{ titulo }}
{% endblock %}

{% block contenido %}
	<h1>CONTRATO DE ALQUILERES</h1>
	<h1>LOTE: <i>{{ s }}</i></h1>
	<h1>PERIODO: <i>{{ s }}</i></h1>
	<h1>Cobranzas</h1>
	<p>
        <a href="{% url "cobranzas:new" %}">Agregar Cobranza</a>
    </p>
	<table>
		<tr>
			<td>PISO</td>
			<td>LOCAL</td>
			<td>PERIODO</td>
			<td>M. ALQUILER</td>
			<td>MONTO</td>
			<td>ESTADO MES</td>
			<td>COLORES</td>
		</tr>
		{% for cr in contrato %}
			<tr>
	  				<td>{{ cr.local.piso }}</td>
	    			<td>{{ cr.id }}</td>
	    			<td>nuevo</td>
	    			<td>{{ cr.monto }}</td>
	    			<td></td>
					<td>Nuevo</td>
	    			<td>color</td>
			</tr>
		{% endfor %}
	</table>
	<h1>Pagos</h1>
  		{% for pr in object_list %}
  			<tr>
  				<td>{{ pr.contrato__local__piso }}</td>
    			<td>{{ pr.contrato__pk }}</td>
    			<td>{{ pr.periodo }}</td>
    			<td>{{ pr.contrato__monto }}</td>
    			<td>{{ pr.monto_cobrado }}</td>
    			{% if pr.contrato__monto == pr.monto_cobrado %}
					<td>Cancelado</td>
				{% elif pr.contrato__monto > pr.monto_cobrado %}
					<td>A Cuenta</td>
				{% else %}
					<td>Revisar</td>
				{% endif %}
    			<td>color</td>
  			</tr>
  		{% endfor %}

	<p> 
		los locales con contratos nuevos van a aparecer como nuevo mientras no 
		se ingrese una cobranza en el modulo de cobranza, eso significa que el 
		cobrador debe ingresar los datos online para que este reporte este 
		actualizado en tiempo real. Y los nuevos aparecen arriba
	</p>
{% endblock %}
